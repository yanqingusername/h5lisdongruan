(function(t){function e(e){for(var i,c,o=e[0],r=e[1],l=e[2],p=0,_=[];p<o.length;p++)c=o[p],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&_.push(a[c][0]),a[c]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);u&&u(e);while(_.length)_.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,o=1;o<s.length;o++){var r=s[o];0!==a[r]&&(i=!1)}i&&(n.splice(e--,1),t=c(c.s=s[0]))}return t}var i={},a={app:0},n=[];function c(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.m=t,c.c=i,c.d=function(t,e,s){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(s,i,function(e){return t[e]}.bind(null,i));return s},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=r;n.push([1,"chunk-vendors"]),s()})({0:function(t,e){},"02d5":function(t,e,s){"use strict";s("b019")},"0823":function(t,e,s){"use strict";s("c821")},1:function(t,e,s){t.exports=s("56d7")},"1e47":function(t,e,s){},2:function(t,e){},3:function(t,e){},4:function(t,e){},4007:function(t,e,s){t.exports=s.p+"img/deleteTest.fecb3bc8.png"},"44fd":function(t,e,s){},4678:function(t,e,s){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc10","./be.js":"1fc10","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=n(t);return s(e)}function n(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=n,t.exports=a,a.id="4678"},"4ea3":function(t,e,s){"use strict";s("98b7")},"4f17":function(t,e,s){t.exports=s.p+"img/area_img.da8cc855.png"},5:function(t,e){},"56d7":function(t,e,s){"use strict";s.r(e);s("e623"),s("e379"),s("5dc8"),s("37e1");var i=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},n=[],c={name:"App",components:{}},o=c,r=s("0c7c"),l=Object(r["a"])(o,a,n,!1,null,null,null),u=l.exports,p=s("b970"),_=s("3c69"),d=s("9145"),m=s.n(d),v=s("8c18"),h=s("8c4f"),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-section"},[t.isShowWechat?s("div",[t._m(0),s("div",{staticClass:"main"},[s("div",{staticClass:"form-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"tel",name:"phone",oninput:t.phone=t.phone.length>11?t.phone.slice(0,11):t.phone,placeholder:"请输入手机号码"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),s("div",{staticClass:"form-item",staticStyle:{"margin-top":"20px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"password",name:"code",placeholder:"请输入密码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),s("van-button",{staticClass:"submit_view",attrs:{block:"",type:"info"},on:{click:t.commit}},[t._v("登录")])],1)]):s("div",{staticClass:"login-section"},[s("div",{staticClass:"icon_login_content"},[t._v("普通浏览器,请在手机微信浏览器打开此页面")])])])},b=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"root_header"},[i("img",{staticClass:"icon_logo",attrs:{src:s("9c1d"),alt:""}}),i("div",{staticClass:"icon_login_text"},[t._v("上门预约管理台")])])}],g=(s("ac1f"),s("466d"),s("00b4"),s("d3b7"),s("5319"),s("bc3a")),C=s.n(g),x=s("f564");C.a.defaults.baseURL="/",C.a.defaults.timeout=6e4,C.a.defaults.crewithdentials=!0,C.a.interceptors.request.use((function(t){return t}),(function(t){return Promise.error(t)})),C.a.interceptors.response.use((function(t){var e=t.status;if(200===e)return Promise.resolve(t);401===e||403===e?(Object(x["a"])({type:"primary",message:t.data.msg}),he.replace({path:"/login"})):Object(x["a"])({type:"primary",message:t.data.msg})}),(function(t){console.log("error",t)}));var k=s("ade3"),w=s("4328"),y=s.n(w),j=(C.a.create({crewithdentials:!0,timeout:1e4,baseURL:"https://api-cn.faceplusplus.com/imagepp/v2/generalocr"}),C.a.create({crewithdentials:!0,timeout:1e4,baseURL:"/lis_appointment"}));C.a.interceptors.request.use((function(t){return"post"===t.method&&(t.data&&!t.data.i?t.headers["Content-Type"]="multipart/form-data":t.data=Qs.stringify(t.data)),t}),(function(t){return Promise.reject(t)}));var S,I,A,D,P,O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get";return j(Object(k["a"])({url:t,method:s},"get"===s?"params":"data","get"===s?e:y.a.stringify(e)))},T=function(t){return O("/vipback/viplogin.hn",t,"get")},V=function(t){return O("/vipback/checkAutoLogin.hn",t,"get")},L=function(t){return O("/vipback/getAllVIPAppointmentRecords.hn",t,"get")},N=function(t){return O("/vipback/updateAppointmentPersonNum.hn",t,"get")},R=function(t){return O("/vipback/createVIPFiveAppointmentRecord.hn",t,"get")},E=function(t){return O("vipback/createVIPGroupAppointmentRecord.hn",t,"get")},M=function(t){return O("/vipback/updateVIPAppointmentInfoByNum.hn",t,"get")},B=function(t){return O("/vipback/getVIPAppointmentInfoByNum.hn",t,"get")},z=function(t){return O("/vipback/checkVIPAppointmentNurse.hn",t,"get")},U=function(t){return O("/vipback/updateVIPAppointmentOrderStatus.hn",t,"get")},$=function(t){return O("/vipback/getNurseInfo.hn",t,"get")},q=function(t){return O("/vipback/createCustomerAddressInfo.hn",t,"get")},F=function(t){return O("/avip/getVIPServiceType.hn",t,"get")},W=function(t){return O("/vipback/getAppointmentPersonNum.hn",t,"get")},J=s("d399"),G={name:"",components:{},data:function(){return{code:"",phone:"",codeRestTime:0,restTime:60,phoneCode:["",""],phoneSub:"",codeSub:"",isShowWechat:!0}},created:function(){},mounted:function(){this.getAutoLogin()},methods:{isWechat:function(){var t=window.navigator.userAgent.toLowerCase();return"micromessenger"==t.match(/micromessenger/i)?(console.log("微信浏览器"),this.isShowWechat=!0,this.getAutoLogin(),!0):(this.isShowWechat=!1,console.log("普通浏览器,请在手机微信浏览器打开此页面"),!1)},checkPhone:function(t){var e=/^1\d{10}$/;return 11==t.length&&!!e.test(t)},btnClick:function(){var t=this,e=this;if(""==this.phone)Object(J["a"])("请填写手机号");else if(this.checkPhone(this.phone)){this.codeRestTime=this.restTime;var s=setInterval((function(){--t.codeRestTime,t.codeRestTime||(clearInterval(s),s=null)}),1e3);getVerification({phone:this.phone}).then((function(t){t.data.success?(console.log(t.data.msg),e.phoneSub=t.data.phone,e.codeSub=t.data.msg):Object(J["a"])(t.data.msg)}))}else Object(J["a"])("手机号有误")},commit:function(){var t=this;""!=this.phone?this.checkPhone(this.phone)?""!=this.code?T({person_phone:this.phone,password:this.code}).then((function(e){console.log(e),e.data.success?(Object(J["a"])(e.data.msg),localStorage.setItem("vipPhone",t.phone),localStorage.setItem("conveyPassword",t.code),t.$router.push({path:"/vipList",query:{id:e.data.result[0].role,name:e.data.result[0].person_name,userId:e.data.result[0].id}})):Object(J["a"])(e.data.msg)})):Object(J["a"])("请填写密码"):Object(J["a"])("手机号有误"):Object(J["a"])("请填写手机号")},handleLogin:function(){this.$router.push({path:"/vipList",query:{id:"1",name:"杨青",userId:"45"}})},getAutoLogin:function(){var t=this,e=localStorage.getItem("vipPhone");e&&V({person_phone:e}).then((function(e){console.log(e),e.data.success?0==e.data.is_auto_login&&(Object(J["a"])(e.data.msg),t.$router.push({path:"/vipList",query:{id:e.data.result[0].role,name:e.data.result[0].person_name,userId:e.data.result[0].id}})):Object(J["a"])(e.data.msg)}))}}},H=G,Y=(s("9ee8"),Object(r["a"])(H,f,b,!1,null,"2119c3cc",null)),Q=Y.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page404"},[s("van-empty",{attrs:{description:"找遍全世界也没找到该页面"}}),s("van-button",{staticClass:"back-bth",attrs:{type:"default",plain:"",round:""},on:{click:t.back}},[t._v("返回")])],1)},K=[],X={name:"",components:{},data:function(){return{}},methods:{back:function(){this.$router.back()}}},tt=X,et=(s("cc13"),Object(r["a"])(tt,Z,K,!1,null,"422d9ff0",null)),st=et.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"child-section"},[i("van-nav-bar",{attrs:{title:"上门预约管理台","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),i("div",{staticClass:"main"},[i("div",{staticClass:"dis_item_center"},[i("div",{staticClass:"s_center_view"},[i("van-popover",{attrs:{trigger:"click",actions:t.vipStatusList,placement:"bottom-start"},on:{select:t.onSelect},scopedSlots:t._u([{key:"reference",fn:function(){return[i("div",[i("span",{staticClass:"s_center_t"},[t._v(t._s(t.service_type_text))]),i("i",{staticClass:"el-icon-caret-bottom"})])]},proxy:!0}]),model:{value:t.showVipStatus,callback:function(e){t.showVipStatus=e},expression:"showVipStatus"}})],1),i("div",{staticClass:"s_center",on:{click:t.clickDateTime}},[i("div",{staticClass:"s_center_t"},[t._v(t._s(t.currentDateText?t.currentDateText:"全部日期"))]),i("i",{staticClass:"el-icon-caret-bottom"})]),i("div",{staticClass:"s_center_view",on:{click:t.cliclDate}},[i("div",{staticClass:"s_center_t"},[t._v(t._s(0==t.sort_status?"时间正序":"时间倒序"))]),i("i",{staticClass:"el-icon-caret-bottom",attrs:{size:"16"}})])]),i("div",{staticClass:"t_center"},[i("div",{staticClass:"s_center_t"},[t._v("筛选护士：")]),i("div",{staticClass:"s_center_t_r"},[i("div",{staticClass:"s_center_t_r_v"},t._l(t.dataList,(function(e,s){return i("div",{key:s,class:t.dataIndex==s?"s_center_t_r_i":"s_center_t_r_i_default",on:{click:function(i){return t.clickTRI(e,s)}}},[t._v(t._s(e.person_name))])})),0)])]),i("div",{staticClass:"t_center"},[i("div",{staticClass:"s_center_t"},[t._v("筛选状态：")]),i("div",{staticClass:"s_center_t_r"},[i("div",{staticClass:"s_center_t_r_v"},t._l(t.statusList,(function(e,s){return i("div",{key:s,class:t.statusIndex==s?"s_center_t_r_i":"s_center_t_r_i_default",on:{click:function(i){return t.clickStatus(e,s)}}},[t._v(t._s(e.text))])})),0)])]),i("div",{staticClass:"view_selects"},[i("div",{staticClass:"select-item input-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.vipPhoneNumber,expression:"vipPhoneNumber"}],attrs:{type:"text",name:"vipPhoneNumber",placeholder:"搜索手机号",onkeyup:t.vipPhoneNumber=t.vipPhoneNumber.replace(/[^\w\.\/]/gi,"")},domProps:{value:t.vipPhoneNumber},on:{input:function(e){e.target.composing||(t.vipPhoneNumber=e.target.value)}}}),i("img",{staticClass:"searchBtn",attrs:{src:s("6052")},on:{click:t.clickSearch}})]),i("div",{staticClass:"s_select_t_r_i_default",on:{click:t.clickClose}},[t._v("清空筛选条件")])]),i("div",{staticClass:"dis_setting"},[i("div",{staticClass:"s_center_t"},[t._v("筛选后合计数据："+t._s(t.instrumentList.length)+"条")]),i("div",{staticClass:"s_setting_t",staticStyle:{color:"#E06596"},on:{click:t.handleSetting}},[i("van-icon",{staticStyle:{"margin-right":"4px",color:"#E06596"},attrs:{name:"setting-o",size:"24"}}),t._v("修改配置")],1)]),t.instrumentList.length>0?i("div",{staticClass:"search-list-role"},[i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onDownLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.instrumentList,(function(e,a){return i("div",{key:a},[i("div",{staticClass:"search-result-view"},[i("div",{staticClass:"dis_setting",staticStyle:{padding:"0px 0px 8px 0px"}},[e.special_expect_date&&e.special_expect_time_bucket?i("div",{staticClass:"s_center_t_item"},[t._v(t._s(e.special_expect_date)+" "+t._s(e.special_expect_time_bucket))]):i("div",{staticClass:"s_center_t_item"},[t._v(t._s(e.expect_date)+" "+t._s(e.expect_time_bucket?e.expect_time_bucket:"未选择预约时间"))]),i("div",{staticClass:"s_setting_t_item",staticStyle:{color:"#E06596"}},[t._v(t._s(e.nurse_name_list?e.nurse_name_list:"未安排护士"))])]),e.vip_person?i("div",{staticClass:"search-result-view-item"},[i("div",{staticClass:"search-result-view-left"},[t._v("联系人")]),i("div",{staticClass:"search-result-view-right"},[t._v(t._s(e.vip_person))])]):t._e(),e.vip_phone?i("div",{staticClass:"search-result-view-item"},[i("div",{staticClass:"search-result-view-left"},[t._v("手机号")]),i("div",{staticClass:"search-result-view-right",on:{click:function(s){return t.copyVipPhone(e.vip_phone)}}},[t._v(t._s(e.vip_phone))])]):t._e(),e.address?i("div",{staticClass:"search-result-view-item",staticStyle:{positon:"relative"}},[i("div",{staticClass:"search-result-view-left"},[t._v("上门地址")]),i("div",{staticClass:"search-result-view-right",staticStyle:{width:"63%"},on:{click:function(s){return t.copyAddress(e.province,e.city,e.area,e.address)}}},[t._v(t._s(e.province)+t._s(e.city)+t._s(e.area)+t._s(e.address))]),i("div",{staticClass:"pic-img-view",on:{click:function(s){return t.markOnAMAP(e)}}},[i("img",{staticClass:"pic-img-icon",attrs:{src:s("6aae"),alt:""}})])]):t._e(),e.service_title?i("div",{staticClass:"search-result-view-item"},[i("div",{staticClass:"search-result-view-left"},[t._v("检测类型")]),i("div",{staticClass:"search-result-view-right"},[t._v(t._s(e.service_title))])]):t._e(),e.customer_url&&""==e.address?i("div",{staticClass:"search-result-view-item"},[i("div",{staticClass:"search-result-view-left"},[t._v("客户录入")]),i("div",{staticClass:"search-result-view-right",on:{click:function(s){return t.copyUrl("https://scldev.coyotebio-lab.com:8443/vue1/#/vipInfoCustom",e.appointment_vip_num)}}},[t._v("请客户点击下面链接"),i("span",{staticStyle:{"text-decoration-line":"underline",color:"blue"}},[t._v(t._s("https://scldev.coyotebio-lab.com:8443/vue1/#/vipInfoCustom?avipnum=")+t._s(e.appointment_vip_num))]),t._v("，填写预约信息。")])]):t._e(),e.inspection_person_num?i("div",{staticClass:"search-result-view-item"},[i("div",{staticClass:"search-result-view-left"},[t._v("受检人数")]),i("div",{staticClass:"search-result-view-right"},[t._v(t._s(e.inspection_person_num)+"人")])]):t._e(),e.remark?i("div",{staticClass:"search-result-view-item"},[i("div",{staticClass:"search-result-view-left"},[t._v("备注")]),i("div",{staticClass:"search-result-view-right"},[t._v(t._s(e.remark))])]):t._e(),i("div",{staticClass:"dis_setting",staticStyle:{padding:"10px 0px 0px 0px"}},[i("div",{staticClass:"s_center_t_item",staticStyle:{display:"flex"}},[i("div",[t._v("状态：")]),-1==e.appointment_vip_status?i("div",{staticClass:"s_setting_t_item",staticStyle:{color:"#408BE4"}},[t._v(t._s("未录入"))]):t._e(),0==e.appointment_vip_status?i("div",{staticClass:"s_setting_t_item",staticStyle:{color:"#ec1f2d"}},[t._v(t._s("等待确认"))]):t._e(),1==e.appointment_vip_status?i("div",{staticClass:"s_setting_t_item",staticStyle:{color:"#ec1f2d"}},[t._v(t._s("待采样"))]):t._e(),2==e.appointment_vip_status?i("div",{staticClass:"s_setting_t_item",staticStyle:{color:"#408BE4"}},[t._v(t._s("已完成"))]):t._e(),3==e.appointment_vip_status?i("div",{staticClass:"s_setting_t_item",staticStyle:{color:"#408BE4"}},[t._v(t._s("客户缺席"))]):t._e(),4==e.appointment_vip_status?i("div",{staticClass:"s_setting_t_item"},[t._v(t._s("已退款"))]):t._e(),5==e.appointment_vip_status?i("div",{staticClass:"s_setting_t_item"},[t._v(t._s("已删除"))]):t._e()]),i("div",{staticClass:"s_setting_t_item",staticStyle:{display:"flex"}},[-1==e.appointment_vip_status?i("div",{staticClass:"s_center_t_r_i",on:{click:function(s){return t.clickVipInfo(e,a)}}},[t._v("后台录入")]):i("div",{staticClass:"s_center_t_r_i",on:{click:function(s){return t.clickVipInfo(e,a)}}},[t._v("修改")]),i("div",{staticClass:"s_center_t_r_i",staticStyle:{"margin-right":"0px"},on:{click:function(s){return t.clickDelete(e,a)}}},[t._v("删除")])])])])])})),0)],1)],1):i("div",{staticClass:"search-list-role",staticStyle:{background:"#FFFFFF"}},[t._m(0)]),i("div",{staticClass:"empty_view"}),i("div",{staticClass:"view_bottom"},[i("div",{staticClass:"view_bottom_left",on:{click:t.clickTeam}},[t._v("+ 创建团体上门预约")]),i("div",{staticClass:"view_bottom_right",on:{click:t.clickVip}},[t._v("+ 创建VIP上门预约")])])]),i("van-dialog",{attrs:{showCancelButton:"",beforeClose:t.beforeCloseVip,confirmButtonColor:"#E06596","confirm-button-text":"创建"},model:{value:t.isShowVip,callback:function(e){t.isShowVip=e},expression:"isShowVip"}},[i("div",{staticClass:"dialog_item"},[i("div",{staticClass:"dialog_item_title"},[t._v("确定要创建一条VIP上门预约数据吗？")])])]),i("van-dialog",{attrs:{showCancelButton:"",beforeClose:t.beforeCloseTeam,confirmButtonColor:"#E06596","confirm-button-text":"创建"},model:{value:t.isShowTeam,callback:function(e){t.isShowTeam=e},expression:"isShowTeam"}},[i("div",{staticClass:"dialog_item"},[i("div",{staticClass:"dialog_item_title"},[t._v("确定要创建一条团体上门预约数据吗？")])])]),i("van-dialog",{attrs:{showCancelButton:"",beforeClose:t.beforeCloseDelete,confirmButtonColor:"#E06596"},model:{value:t.isShowDelete,callback:function(e){t.isShowDelete=e},expression:"isShowDelete"}},[i("div",{staticClass:"dialog_item"},[i("div",{staticClass:"dialog_item_title"},[t._v("确定要删除该条预约吗？")])])]),i("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.isShowDateTime,callback:function(e){t.isShowDateTime=e},expression:"isShowDateTime"}},[i("van-datetime-picker",{attrs:{type:"date",title:"选择年月日"},on:{cancel:t.dateTimeCancel,confirm:t.dateTimeConfirm},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1)],1)},at=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"s_center_t_empty"},[i("img",{staticClass:"s_center_t_empty_img",attrs:{src:s("9485")}}),t._v("暂无数据")])}],nt=s("1da1"),ct=(s("96cf"),s("b0c0"),s("99af"),s("1276"),s("4e82"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"header-bg"},[t._t("default")],2)])}),ot=[],rt={},lt=rt,ut=(s("9586"),Object(r["a"])(lt,ct,ot,!1,null,"67c9505c",null)),pt=ut.exports,_t=s("2241"),dt=s("b650"),mt=s("ce40"),vt=s.n(mt),ht={name:"",components:(S={Header:pt},Object(k["a"])(S,_t["a"].Component.name,_t["a"].Component),Object(k["a"])(S,dt["a"].name,dt["a"]),S),data:function(){return{vipPhoneNumber:"",isShowDateTime:!1,currentDate:new Date,currentDateText:"",service_type:"",service_type_text:"全部上门类型",expect_date:"",sort_status:"0",showVipStatus:!1,vipStatusList:[{text:"全部上门",value:""},{text:"VIP上门",value:"0"},{text:"团体上门",value:"1"}],show:!1,dataList:[],dataIndex:0,dataText:"全部",dataValue:"",statusIndex:0,statusText:"全部",statusValue:"",statusList:[{text:"全部",value:""},{text:"等待确认",value:"0"},{text:"待采样",value:"1"},{text:"已完成",value:"2"},{text:"客户缺席",value:"3"},{text:"未录入",value:"-1"}],page:1,limit:30,instrumentList:[],loading:!1,finished:!1,refreshing:!1,roleId:1,isShowVip:!1,isShowTeam:!1,isShowDelete:!1,roleName:"",userId:"",appointment_vip_num:"",locationMap:""}},created:function(){this.roleId=this.$route.query.id,this.roleName=this.$route.query.name,this.userId=this.$route.query.userId,console.log(this.roleId),console.log(this.roleName),console.log(this.userId)},mounted:function(){this.isWechat(),this.getNurseInfo(),this.page=1,this.instrumentList=[],this.getAllVIPRecords(),this.initMap()},methods:{clickClose:function(){this.currentDateText="",this.service_type="",this.service_type_text="全部上门类型",this.sort_status="0",this.dataIndex=0,this.dataText="全部",this.dataValue="",this.statusIndex=0,this.statusText="全部",this.statusValue="",this.vipPhoneNumber="",this.page=1,this.instrumentList=[],this.getAllVIPRecords()},initMap:function(){var t=this,e=new qq.maps.Geolocation;e.getLocation((function(e){t.locationMap=e,console.log("定位",e)}),(function(t){console.log("定位失败")}))},markOnAMAP:function(t){var e=this;if(t){var s=t.province+t.city+t.area+t.address+"";this.$jsonp("https://apis.map.qq.com/ws/geocoder/v1/?",{address:"".concat(s),key:"RLWBZ-JD53U-OJHV6-27XHB-I5VKQ-I7F3H",output:"jsonp"}).then((function(s){console.log(s,"腾讯地图");var i=s.result.location;location.href="https://apis.map.qq.com/tools/routeplan/eword=".concat(t.address,"&epointx=").concat(i.lat,"&epointy=").concat(i.lng,"&spointx=").concat(e.locationMap.lat,"&spointy=").concat(e.locationMap.lng,"?key=RLWBZ-JD53U-OJHV6-27XHB-I5VKQ-I7F3H&referer=myapp")}))}},getNurseInfo:function(){var t=this;$({}).then((function(e){e.data.success?(t.dataList=e.data.result,t.dataList.unshift({id:"",person_name:"全部",person_phone:"",role:"-1"})):Object(J["a"])(e.data.msg)}))},onSelect:function(t){Object(J["a"])(t.text,t.value),this.service_type=t.value,t.value?this.service_type_text=t.text:this.service_type_text="全部上门类型",this.page=1,this.instrumentList=[],this.getAllVIPRecords()},changeExpectDate:function(t){console.log(this.expect_date),this.page=1,this.instrumentList=[],this.getAllVIPRecords()},timeFormat:function(t){var e=t.getFullYear(),s=t.getMonth()+1;s<10&&(s="0"+s);var i=t.getDate();t.getHours();return e+"-"+s+"-"+i+"日"},cliclDate:function(){0==this.sort_status?this.sort_status="1":this.sort_status="0",this.page=1,this.instrumentList=[],this.getAllVIPRecords()},clickTRI:function(t,e){this.dataIndex=e,this.dataText=t.text,this.dataValue=t.id,this.page=1,this.instrumentList=[],this.getAllVIPRecords()},clickStatus:function(t,e){this.statusIndex=e,this.statusText=t.text,this.statusValue=t.value,this.page=1,this.instrumentList=[],this.getAllVIPRecords()},formatDate:function(t){return"".concat(t.getMonth()+1,"/").concat(t.getDate())},onConfirm:function(t){this.show=!1,this.date=this.formatDate(t)},onClickLeft:function(){this.$router.back()},clickPDF:function(){this.$router.push({path:"/instrumentPDF"})},isWechat:function(){var t=window.navigator.userAgent.toLowerCase();if("micromessenger"!=t.match(/micromessenger/i))return console.log("普通浏览器,请在手机微信浏览器打开此页面"),!1;console.log("微信浏览器"),this.scanQRJssdk()},scanQRJssdk:function(){return Object(nt["a"])(regeneratorRuntime.mark((function t(){var e,s,i,a,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=navigator.userAgent,s=e.indexOf("Android")>-1||e.indexOf("Linux")>-1,i=-1!=navigator.platform.indexOf("iPhone"),a="",s&&(a=location.href),i&&(a=location.href.split("#")[0]),n=[],n.push("qrCode"),n.push("barCode"),t.next=11,getJSSDKHELP({url:a});case 11:c=t.sent,console.log("获取微信配置结果",c),c&&(vt.a.config({debug:!1,appId:c.data.appId,timestamp:c.data.timestamp,nonceStr:c.data.nonceStr,signature:c.data.signature,jsApiList:["checkJsApi","scanQRCode"]}),vt.a.ready((function(){vt.a.checkJsApi({jsApiList:["scanQRCode"],success:function(t){console.log("aaaa",t)}})})),vt.a.error((function(t){alert("出错了：".concat(t.errMsg))})));case 14:case"end":return t.stop()}}),t)})))()},handleTitleBack:function(){this.$router.back()},getAllVIPRecords:function(){this.refreshing&&(this.refreshing=!1);var t=this;L({page:t.page,limit:t.limit,service_type:t.service_type,expect_date:t.currentDateText,nurse_name_ids:t.dataValue,appointment_vip_status:t.statusValue,sort_status:t.sort_status,vip_phone:t.vipPhoneNumber}).then((function(e){if(e.data.success){var s=t.instrumentList;s=1==t.page?e.data.result:s.concat(e.data.result),t.loading=!1,e&&e.data&&e.data.result.length>0?t.page=t.page+1:t.finished=!0,t.instrumentList=s,t.instrumentList.sort((function(t,e){return-1==t.appointment_vip_status?-1:1}))}else Object(J["a"])(e.data.msg)}))},onDownLoad:function(){console.log(this.page),this.page>1&&this.getAllVIPRecords()},onRefresh:function(){this.finished=!1,this.page=1,this.instrumentList=[],this.loading=!0,this.getAllVIPRecords()},beforeCloseVip:function(t,e){var s=this;"confirm"===t?R({}).then((function(t){t.data.success?(Object(J["a"])(t.data.msg),s.isShowVip=!1,s.page=1,s.instrumentList=[],s.getAllVIPRecords(),e()):(Object(J["a"])(t.data.msg),e(!1))})):"cancel"===t&&(s.isShowVip=!1,e())},beforeCloseTeam:function(t,e){var s=this;"confirm"===t?E({}).then((function(t){t.data.success?(Object(J["a"])(t.data.msg),s.isShowTeam=!1,s.page=1,s.instrumentList=[],s.getAllVIPRecords(),e()):(Object(J["a"])(t.data.msg),e(!1))})):"cancel"===t&&(s.isShowTeam=!1,e())},beforeCloseDelete:function(t,e){var s=this;"confirm"===t?M({appointment_vip_num:s.appointment_vip_num}).then((function(t){t.data.success?(s.isShowDelete=!1,s.page=1,s.instrumentList=[],s.getAllVIPRecords(),e()):(Object(J["a"])(t.data.msg),e(!1))})):"cancel"===t&&(s.isShowDelete=!1,e())},clickTeam:function(){this.isShowTeam=!0},clickVip:function(){this.isShowVip=!0},clickDelete:function(t,e){this.isShowDelete=!0,console.log(t.appointment_vip_num),this.appointment_vip_num=t.appointment_vip_num},handleSetting:function(){this.$router.push({path:"/vipSetting",query:{id:this.roleId,name:this.roleName,userId:this.userId}})},clickVipInfo:function(t,e){console.log("----.:",t,e);var s=t.appointment_vip_num;s&&(0==t.service_type?this.$router.push({path:"/vipInfo",query:{id:this.roleId,name:this.roleName,userId:this.userId,avipnum:s}}):this.$router.push({path:"/vipInfoGroup",query:{id:this.roleId,name:this.roleName,userId:this.userId,avipnum:s}}))},copyVipPhone:function(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),Object(J["a"])("复制成功"),document.body.removeChild(e)},copyAddress:function(t,e,s,i){var a=document.createElement("input");a.value=t+e+s+i+"",document.body.appendChild(a),a.select(),document.execCommand("copy"),Object(J["a"])("复制成功"),document.body.removeChild(a)},copyUrl:function(t,e){var s=document.createElement("input");s.value=t+"?avipnum="+e,document.body.appendChild(s),s.select(),document.execCommand("copy"),Object(J["a"])("复制成功"),document.body.removeChild(s)},clickDateTime:function(){this.isShowDateTime=!0},dateTimeCancel:function(){this.isShowDateTime=!1},dateTimeConfirm:function(){this.currentDateText=this.timeFormat1(this.currentDate),console.log(this.currentDateText),this.isShowDateTime=!1,this.page=1,this.instrumentList=[],this.getAllVIPRecords()},timeFormat1:function(t){var e=t.getFullYear(),s=t.getMonth()+1;s<10&&(s="0"+s);var i=t.getDate();return i<10&&(i="0"+i),e+"年"+s+"月"+i+"日"},clickSearch:function(){this.page=1,this.instrumentList=[],this.getAllVIPRecords()}}},ft=ht,bt=(s("db19"),Object(r["a"])(ft,it,at,!1,null,"c1c1731e",null)),gt=bt.exports,Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"child-section"},[s("van-nav-bar",{attrs:{title:"修改配置","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),s("div",{staticClass:"main"},[t._m(0),s("div",{staticClass:"search-list-role"},[s("div",{staticClass:"dis_setting_i"},[s("div",{staticClass:"s_center_t_item"},[t._v("每时段上限")]),s("div",{staticClass:"s_setting_t_item",staticStyle:{color:"#E06596"}},[s("van-stepper",{attrs:{integer:"","input-width":"40",theme:"round","button-size":"30"},model:{value:t.appointment_person_num,callback:function(e){t.appointment_person_num=e},expression:"appointment_person_num"}})],1)])]),s("div",{staticClass:"dis_setting_icon"},[s("div",{staticClass:"s_setting_t",staticStyle:{color:"#E27A62"}},[s("van-icon",{staticStyle:{"margin-right":"4px",color:"#E27A62"},attrs:{name:"info-o",size:"24"}})],1),s("div",{staticClass:"s_center_t",staticStyle:{color:"#E27A62"}},[t._v("温馨提示：当前有多少个可以做家庭上门服务的护士，就设置为多少。")])]),s("div",{staticClass:"empty_view"}),s("div",{staticClass:"view_bottom"},[s("div",{staticClass:"view_bottom_left",on:{click:t.clickSubmit}},[t._v("保存配置")])])])],1)},xt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dis_setting"},[s("div",{staticClass:"s_center_t"},[t._v("VIP上门（10人以下）")])])}],kt={name:"",components:{},data:function(){return{roleId:"",roleName:"",userId:"",appointment_person_num:1}},created:function(){this.roleId=this.$route.query.id,this.roleName=this.$route.query.name,this.userId=this.$route.query.userId,console.log(this.roleId),console.log(this.roleName),console.log(this.userId),this.getAppointmentPersonNum()},mounted:function(){},methods:{onClickLeft:function(){this.$router.back()},clickSubmit:function(){var t=this;N({service_type:"0",appointment_person_num:t.appointment_person_num}).then((function(e){e.data.success?(Object(J["a"])(e.data.msg),t.onClickLeft()):Object(J["a"])(e.data.msg)}))},getAppointmentPersonNum:function(){var t=this;W({service_type:"0"}).then((function(e){e.data.success?t.appointment_person_num=e.data.result[0].appointment_count_num:Object(J["a"])(e.data.msg)}))}}},wt=kt,yt=(s("4ea3"),Object(r["a"])(wt,Ct,xt,!1,null,"0eb3ab2e",null)),jt=yt.exports,St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"child-section"},[s("Header",[s("div",{staticClass:"header-content"},[s("div",{staticClass:"header-title"},[t._v("操作指南")]),s("div",{staticClass:"header-back"},[s("div",{staticClass:"back",on:{click:t.handleTitleBack}},[s("i",{staticClass:"iconfont icon-arrowthin",staticStyle:{color:"#999999"}})])])])]),s("div",[s("div",{staticClass:"tools"},[s("van-button",{attrs:{size:"small",type:"primary",title:"基础按钮"},on:{click:function(e){return e.stopPropagation(),t.prePage.apply(null,arguments)}}},[t._v(" 上一页")]),s("div",{staticClass:"page"},[t._v(t._s(t.pageNum)+"/"+t._s(t.pageTotalNum))]),s("van-button",{attrs:{size:"small",type:"primary",title:"基础按钮"},on:{click:function(e){return e.stopPropagation(),t.nextPage.apply(null,arguments)}}},[t._v(" 下一页")])],1),s("pdf",{ref:"pdf",attrs:{src:t.url,page:t.pageNum,rotate:t.pageRotate},on:{progress:function(e){t.loadedRatio=e},"page-loaded":function(e){return t.pageLoaded(e)},"num-pages":function(e){t.pageTotalNum=e},error:function(e){return t.pdfError(e)},"link-clicked":function(e){t.page=e}}})],1)],1)},It=[],At=s("858e"),Dt={name:"",components:(I={pdf:At["a"]},Object(k["a"])(I,dt["a"].name,dt["a"]),Object(k["a"])(I,"Header",pt),I),data:function(){return{url:"",pageNum:1,pageTotalNum:1,pageRotate:0,loadedRatio:0,curPageNum:0}},created:function(){this.url="/convey.pdf"},mounted:function(){},methods:{handleTitleBack:function(){this.$router.back()},prePage:function(){var t=this.pageNum;t=t>1?t-1:this.pageTotalNum,this.pageNum=t},nextPage:function(){var t=this.pageNum;t=t<this.pageTotalNum?t+1:1,this.pageNum=t},clock:function(){this.pageRotate+=90},counterClock:function(){this.pageRotate-=90},pageLoaded:function(t){this.curPageNum=t},pdfError:function(t){console.error(t)},pdfPrintAll:function(){this.$refs.pdf.print()},pdfPrint:function(){this.$refs.pdf.print(100,[1,2])},getNumPages:function(t){var e=this,s=At["a"].createLoadingTask(t);s.then((function(t){e.url=s,e.numPages=t.numPages})).catch((function(t){console.error("pdf加载失败")}))}}},Pt=Dt,Ot=(s("0823"),Object(r["a"])(Pt,St,It,!1,null,"5c886429",null)),Tt=Ot.exports,Vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"child-section"},[i("van-nav-bar",{attrs:{title:"修改VIP上门预约信息","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),i("div",{staticClass:"main"},[i("div",{staticClass:"search-list-role"},[0==t.can_update?i("div",{staticClass:"dis_setting_i"},[i("div",{staticClass:"s_center_t_item"},[t._v("修改状态")]),i("van-popover",{attrs:{trigger:"click",actions:t.actions,placement:"bottom-end"},on:{select:t.onSelect},scopedSlots:t._u([{key:"reference",fn:function(){return[i("div",{staticClass:"s_setting_t_item"},[i("span",{staticStyle:{color:"#ec1f2d"}},[t._v(t._s(t.statustext))]),i("van-icon",{attrs:{name:"arrow"}})],1)]},proxy:!0}],null,!1,1227428579),model:{value:t.showPopover,callback:function(e){t.showPopover=e},expression:"showPopover"}})],1):i("div",{staticClass:"dis_setting_i"},[i("div",{staticClass:"s_center_t_item"},[t._v("修改状态")]),i("div",{staticClass:"s_setting_t_item"},[i("span",{staticStyle:{color:"#ec1f2d"}},[t._v(t._s(t.statustext))]),i("van-icon",{attrs:{name:"arrow"}})],1)])]),i("div",{staticClass:"dis_setting_icon"},[i("div",{staticClass:"s_setting_t",staticStyle:{color:"#e27a62"}},[i("van-icon",{staticStyle:{"margin-right":"4px",color:"#e27a62"},attrs:{name:"info-o",size:"20"}})],1),i("div",{staticClass:"s_center_t",staticStyle:{color:"#e27a62"}},[t._v(" 只有运营和负责护士可修改状态，若当前为【等待确认】，请确认信息后修改为【待采样】，否则流程将无法继续。 ")])]),i("div",{staticClass:"search-list-role"},[i("div",{staticClass:"dis_setting_i"},[i("div",{staticClass:"s_center_t_item"},[t._v("负责护士")]),i("div",{staticClass:"s_setting_t_item",on:{click:t.clickHushi}},[i("span",{staticStyle:{color:"#e06596"}},[t._v(t._s(t.resultCheckbox?t.resultCheckbox:"请选择"))]),i("van-icon",{attrs:{name:"arrow"}})],1)])]),i("div",{staticClass:"search-list-role"},[i("div",{staticClass:"dis_setting_i_mar"},[i("div",{staticClass:"s_center_t_item_g",staticStyle:{width:"20%"}},[t._v("备注")]),i("van-field",{attrs:{rows:"1",autosize:"",label:"",type:"textarea",maxlength:"200",placeholder:"请写下客户购买的渠道，如美团/京东等"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)]),i("div",{staticClass:"search-list-role-from"},[i("div",{staticClass:"search-list-role-from-a"},[i("div",{staticClass:"search-list-role-from-b"},[t._v("上门地址")]),i("div",{staticClass:"search-list-role-from-c"},[i("div",{staticClass:"s_center_t_item",staticStyle:{width:"20%"}},[t._v("姓名")]),i("div",{staticClass:"select-item input-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.vip_person,expression:"vip_person"}],attrs:{type:"text",name:"vip_person",placeholder:"请输入联系人姓名",maxlength:"50"},domProps:{value:t.vip_person},on:{input:function(e){e.target.composing||(t.vip_person=e.target.value)}}})])]),i("div",{staticClass:"search-list-role-from-c"},[i("div",{staticClass:"s_center_t_item",staticStyle:{width:"20%"}},[t._v("手机号")]),i("div",{staticClass:"select-item input-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.vip_phone,expression:"vip_phone"}],attrs:{type:"number",name:"vip_phone",placeholder:"请输入联系人手机号",maxlength:"11"},domProps:{value:t.vip_phone},on:{input:function(e){e.target.composing||(t.vip_phone=e.target.value)}}}),t.vip_phone?i("div",{staticClass:"clear_1",on:{click:t.clearPhone}},[i("img",{staticClass:"icon_clear",attrs:{src:s("4007")}})]):t._e()])]),i("div",{staticClass:"search-list-role-from-c"},[i("div",{staticClass:"s_center_t_item",staticStyle:{width:"20%"}},[t._v("所在地区")]),i("div",{staticClass:"select-item div-item",on:{click:t.clickArea}},[i("div",{style:t.provincecityarea?"color: #333333;":"color: #666666;"},[t._v(t._s(t.provincecityarea?t.provincecityarea:"请选择所在地区"))]),i("div",{staticClass:"clear_1",staticStyle:{padding:"0px"}},[i("van-icon",{attrs:{name:"arrow"}})],1)])]),i("div",{staticClass:"search-list-role-from-g",staticStyle:{"border-bottom":"none"}},[i("div",{staticClass:"s_center_t_item_g"},[t._v("详细地址")]),i("van-field",{attrs:{rows:"1",autosize:"",label:"",type:"textarea",placeholder:"请填写详细地址"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)])]),i("div",{staticClass:"search-list-role-from"},[i("div",{staticClass:"search-list-role-from-a"},[i("div",{staticClass:"search-list-role-from-d"},[i("div",{staticClass:"s_center_t_item"},[t._v("期望上门时间")]),i("div",{staticClass:"s_setting_t_item",on:{click:t.clickDate}},[i("span",{style:t.dateText?"color: #333333;":"color: #666666;"},[t._v(t._s(t.dateText?t.dateText:"请选择期望上门时间"))]),i("van-icon",{attrs:{name:"arrow"}})],1)]),i("div",{staticClass:"search-list-role-from-d"},[i("div",{staticClass:"s_center_t_item"},[t._v("特殊时间要求")]),i("div",{staticClass:"s_setting_t_item",on:{click:t.clickDateTime}},[i("span",{style:t.timeValue?"color: #333333;":"color: #666666;"},[t._v(t._s(t.timeValue?t.timeValue:"请选择"))]),i("van-icon",{attrs:{name:"arrow"}})],1)])])]),i("div",{staticClass:"search-list-role"},[i("div",{staticClass:"dis_setting_i"},[i("div",{staticClass:"s_center_t_item"},[t._v("受检人数")]),i("div",{staticClass:"s_setting_t_item",staticStyle:{color:"#e06596"}},[i("van-stepper",{attrs:{integer:"","input-width":"40",theme:"round","button-size":"30",max:"10"},model:{value:t.inspection_person_num,callback:function(e){t.inspection_person_num=e},expression:"inspection_person_num"}})],1)])]),i("div",{staticClass:"empty_view"}),i("div",{staticClass:"view_bottom"},[i("div",{staticClass:"view_bottom_left",on:{click:t.clickSubmit}},[t._v("保存")])])]),i("van-dialog",{attrs:{showCancelButton:"",beforeClose:t.beforeCloseCheckbox,confirmButtonColor:"#E06596"},model:{value:t.isShowCheckbox,callback:function(e){t.isShowCheckbox=e},expression:"isShowCheckbox"}},[i("div",{staticClass:"dialog_item"},[i("van-checkbox-group",{attrs:{direction:"horizontal"},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.nurse_list,(function(e,s){return i("div",{key:s,staticClass:"checkbox_class"},[i("van-checkbox",{attrs:{name:e.id}},[t._v(t._s(e.person_name))])],1)})),0)],1)]),i("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.isShowArea,callback:function(e){t.isShowArea=e},expression:"isShowArea"}},[i("van-area",{attrs:{title:"选择地区","area-list":t.areaList},on:{confirm:t.areaConfirm,cancel:t.areaCancel}})],1),i("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.isShowDate,callback:function(e){t.isShowDate=e},expression:"isShowDate"}},[i("van-picker",{attrs:{"show-toolbar":"",title:"选择开始时间",columns:t.objectMultiArray},on:{cancel:t.dateCancel,confirm:t.dateConfirm}})],1),i("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.isShowDateTime,callback:function(e){t.isShowDateTime=e},expression:"isShowDateTime"}},[i("van-datetime-picker",{attrs:{type:"datehour",title:"选择年月日小时","min-date":t.minDate},on:{cancel:t.dateTimeCancel,confirm:t.dateTimeConfirm},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1),i("van-dialog",{attrs:{showCancelButton:"",beforeClose:t.beforeUpdate,confirmButtonColor:"#E06596","cancel-button-color":"#E06596","confirm-button-text":"仍然保存","cancel-button-text":"再看看"},model:{value:t.isShowUpdate,callback:function(e){t.isShowUpdate=e},expression:"isShowUpdate"}},[i("div",{staticClass:"dialog_item"},[i("div",{staticClass:"dialog_item_title"},[t._v("负责护士"),i("span",{staticStyle:{color:"#E06596"}},[t._v(t._s(t.checkinfo.person_name))]),t._v("在"),i("span",{staticStyle:{color:"#E06596"}},[t._v(t._s(t.checkinfo.expect_date)+t._s(t.checkinfo.expect_time_bucket))]),t._v("已有上门预约，仍然要保存吗？")])])])],1)},Lt=[],Nt=(s("a15b"),s("434d")),Rt={name:"",components:(A={},Object(k["a"])(A,_t["a"].Component.name,_t["a"].Component),Object(k["a"])(A,dt["a"].name,dt["a"]),A),data:function(){return{roleId:"",roleName:"",userId:"",appointment_vip_num:"",inspection_person_num:1,remark:"",vip_person:"",vip_phone:"",province:"",city:"",area:"",address_id:"",appointment_vip_status:-1,expect_date:"",expect_time_bucket:"",nurse_name_list:"",nurse_name_ids:"",text:"",service_type:"",service_status:"",address:"",special_expect_date:"",special_expect_time_bucket:"",company_name:"",provincecityarea:"",statustext:"等待确认",statuvalue:"0",showPopover:!1,actions:[{text:"等待确认",value:"0"},{text:"待采样",value:"1"},{text:"已完成",value:"2"},{text:"客户缺席",value:"3"}],isShowCheckbox:!1,result:[],moreResult:[],resultCheckbox:"",nurse_list:[],isShowArea:!1,areaList:Nt["a"],objectMultiArray:[],isShowDate:!1,dateText:"",isShowDateTime:!1,minDate:new Date,currentDate:new Date,timeValue:"",isShowUpdate:!1,checkinfo:"",can_update:"0"}},created:function(){this.roleId=this.$route.query.id,this.roleName=this.$route.query.name,this.userId=this.$route.query.userId,this.appointment_vip_num=this.$route.query.avipnum,console.log(this.roleId),console.log(this.roleName),console.log(this.userId),console.log(this.appointment_vip_num)},mounted:function(){this.getVIPInfoByNum(),this.getNurseInfo(),this.getVIPServiceType()},methods:{getVIPServiceType:function(){var t=this;F({}).then((function(e){if(e.data.success){var s=e.data.service_type_info;if(t.objectMultiArray=s[0].objectMultiArray,t.objectMultiArray.length>0){for(var i=[],a=0;a<t.objectMultiArray.length;a++){var n={},c=t.objectMultiArray[a].date;if(-1!=c.indexOf("年")){var o=c.indexOf("date"),r=c.substr(o+1,c.length);n.text=r}else n.text=c;n.children=[];for(var l=t.objectMultiArray[a].time,u=0;u<l.length;u++){var p=l[u],_={};1==p.can_use?(_.disabled=!0,_.text=p.time_section+" (已满约)"):_.text=p.time_section,n.children.push(_)}i.push(n)}t.objectMultiArray=i}}else Object(J["a"])(e.data.msg)}))},getNurseInfo:function(){var t=this;$({}).then((function(e){e.data.success?t.nurse_list=e.data.result:Object(J["a"])(e.data.msg)}))},getVIPInfoByNum:function(){var t=this;B({id:t.userId,appointment_vip_num:t.appointment_vip_num}).then((function(e){if(e.data.success){t.can_update=e.data.can_update;var s=e.data.result;if(s&&s.length>0){var i=s[0];if(t.appointment_vip_num=i.appointment_vip_num,i.inspection_person_num&&(t.inspection_person_num=i.inspection_person_num),t.remark=i.remark,t.vip_person=i.vip_person,t.vip_phone=i.vip_phone,t.province=i.province,t.city=i.city,t.area=i.area,t.address_id=i.address_id,t.appointment_vip_status=i.appointment_vip_status,t.expect_date=i.expect_date,t.expect_time_bucket=i.expect_time_bucket,t.nurse_name_list=i.nurse_name_list,t.nurse_name_ids=i.nurse_name_ids,t.text=i.text,t.service_type=i.service_type,t.service_status=i.service_status,t.address=i.address,t.nurse_name_ids){var a=t.nurse_name_ids.split(",");if(a&&a.length>0)for(var n=0;n<a.length;n++){var c=parseInt(a[n]);t.result.push(c),t.moreResult.push(c)}}i.special_expect_date&&(t.special_expect_date=i.special_expect_date),i.special_expect_time_bucket&&(t.special_expect_time_bucket=i.special_expect_time_bucket),i.company_name&&(t.company_name=i.company_name),t.province&&t.city&&t.area&&(t.provincecityarea=t.province+t.city+t.area+""),t.special_expect_date&&t.special_expect_time_bucket?t.timeValue=t.special_expect_date+" "+t.special_expect_time_bucket:t.expect_date&&t.expect_time_bucket&&(t.dateText=t.expect_date+" "+t.expect_time_bucket),-1==t.appointment_vip_status||0==t.appointment_vip_status?(t.statustext="等待确认",t.statuvalue=0):1==t.appointment_vip_status?(t.statustext="待采样",t.statuvalue=1):2==t.appointment_vip_status?(t.statustext="已完成",t.statuvalue=2):3==t.appointment_vip_status&&(t.statustext="客户缺席",t.statuvalue=3),t.nurse_name_list&&(t.resultCheckbox=t.nurse_name_list)}}else Object(J["a"])(e.data.msg)}))},onClickLeft:function(){this.$router.back()},checkPhone:function(t){var e=/^1\d{10}$/;return 11==t.length&&!!e.test(t)},clickSubmit:function(){var t=this;if(0==t.statuvalue||""!=t.resultCheckbox)if(""!=t.remark)if(""!=t.vip_person)if(""!=t.vip_phone)if(t.checkPhone(t.vip_phone))if(""!=t.provincecityarea)if(""!=t.address)if(""!=t.dateText||""!=t.timeValue)if(0==t.statuvalue)t.setSaveData();else{var e={appointment_vip_num:t.appointment_vip_num,nurse_name_ids:t.nurse_name_ids,expect_date:t.special_expect_date?t.special_expect_date:t.expect_date,expect_time_bucket:t.special_expect_time_bucket?t.special_expect_time_bucket:t.expect_time_bucket};z(e).then((function(e){e.data.success?1==e.data.is_alert?t.setSaveData():(t.isShowUpdate=!0,e.data.result&&e.data.result.length>0&&(t.checkinfo=e.data.result[0])):Object(J["a"])(e.data.msg)}))}else Object(J["a"])("请选择期望上门时间/特殊时间");else Object(J["a"])("请填写详细地址");else Object(J["a"])("请选择所在地区");else Object(J["a"])("手机号有误");else Object(J["a"])("请输入联系人手机号");else Object(J["a"])("请输入联系人姓名");else Object(J["a"])("请写下客户购买的渠道，如美团/京东等");else Object(J["a"])("非等待确认状态，请选择负责护士")},setSaveData:function(){var t=this,e={appointment_vip_num:t.appointment_vip_num,appointment_vip_status:t.statuvalue,nurse_name_list:t.resultCheckbox,nurse_name_ids:t.nurse_name_ids,remark:t.remark,address_id:t.address_id,vip_person:t.vip_person,vip_phone:t.vip_phone,province:t.province,city:t.city,area:t.area,address:t.address,expect_date:t.expect_date,expect_time_bucket:t.expect_time_bucket,special_expect_date:t.special_expect_date,special_expect_time_bucket:t.special_expect_time_bucket,inspection_person_num:t.inspection_person_num};console.log("--params--\x3e:",e),U(e).then((function(e){e.data.success?(Object(J["a"])(e.data.msg),t.onClickLeft()):Object(J["a"])(e.data.msg)}))},beforeUpdate:function(t,e){var s=this,i=this,a={appointment_vip_num:i.appointment_vip_num,appointment_vip_status:i.statuvalue,nurse_name_list:i.resultCheckbox,nurse_name_ids:i.nurse_name_ids,remark:i.remark,address_id:i.address_id,vip_person:i.vip_person,vip_phone:i.vip_phone,province:i.province,city:i.city,area:i.area,address:i.address,expect_date:i.expect_date,expect_time_bucket:i.expect_time_bucket,special_expect_date:i.special_expect_date,special_expect_time_bucket:i.special_expect_time_bucket,inspection_person_num:i.inspection_person_num};console.log("--params--\x3e:",a),"confirm"===t?U(a).then((function(t){t.data.success?(s.isShowUpdate=!1,Object(J["a"])(t.data.msg),e(),i.onClickLeft()):(Object(J["a"])(t.data.msg),e(!1))})):"cancel"===t&&(this.isShowUpdate=!1,e())},clearPhone:function(){this.vip_phone=""},onSelect:function(t){this.statustext=t.text,this.statuvalue=t.value},clickHushi:function(){this.isShowCheckbox=!0,this.result=this.moreResult},beforeCloseCheckbox:function(t,e){var s=this;if("confirm"===t)if(s.result.length>0){this.isShowCheckbox=!1,console.log(s.result);for(var i="",a=[],n=0;n<s.nurse_list.length;n++)for(var c=s.nurse_list[n],o=0;o<s.result.length;o++)c.id==s.result[o]&&a.push(c.person_name);s.moreResult=s.result,i=a.join(","),s.nurse_name_ids=s.result.join(","),s.result=[],s.resultCheckbox=i,e()}else Object(J["a"])("请选择负责护士"),e(!1);else"cancel"===t&&(this.isShowCheckbox=!1,this.result=[],e())},clickArea:function(){this.isShowArea=!0},areaConfirm:function(t){if(console.log(t),t.length>0){for(var e=[],s=0;s<t.length;s++)e.push(t[s].name);var i="";i=e.join(","),this.province=e[0],this.city=e[1],this.area=e[2],console.log(e[0],e[1],e[2]),this.provincecityarea=i}this.isShowArea=!1},areaCancel:function(){this.isShowArea=!1},clickDate:function(){this.isShowDate=!0},dateCancel:function(){this.isShowDate=!1},dateConfirm:function(t){if(console.log(t),t.length>0){var e=t[1];if(-1!=e.indexOf("已满约")){Object(J["a"])("该时间段已约满,请选择其他上门时间~");var s="";this.dateText=s,this.expect_date="",this.expect_time_bucket="",this.isShowDate=!1}else{var i="";i=t.join(" "),this.dateText=i,this.expect_date=t[0],this.expect_time_bucket=t[1],this.isShowDate=!1,this.timeValue&&this.special_expect_date&&this.special_expect_time_bucket&&(this.dateText="",this.expect_date="",this.expect_time_bucket="")}}},clickDateTime:function(){this.isShowDateTime=!0},dateTimeCancel:function(){this.isShowDateTime=!1},dateTimeConfirm:function(){this.timeValue=this.timeFormat(this.currentDate),console.log(this.timeValue),this.dateText="",this.expect_date="",this.expect_time_bucket="",this.isShowDateTime=!1},timeFormat:function(t){t.getFullYear();var e=t.getMonth()+1;e<10&&(e="0"+e);var s=t.getDate();s<10&&(s="0"+s);var i=t.getHours();return i<10&&(i="0"+i),this.special_expect_date=e+"月"+s+"日",this.special_expect_time_bucket=i+":00",e+"月"+s+"日 "+i+":00"}}},Et=Rt,Mt=(s("71f6"),Object(r["a"])(Et,Vt,Lt,!1,null,"78317c45",null)),Bt=Mt.exports,zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"child-section"},[i("van-nav-bar",{attrs:{title:"修改团体上门预约信息","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),i("div",{staticClass:"main"},[i("div",{staticClass:"search-list-role"},[0==t.can_update?i("div",{staticClass:"dis_setting_i"},[i("div",{staticClass:"s_center_t_item"},[t._v("修改状态")]),i("van-popover",{attrs:{trigger:"click",actions:t.actions,placement:"bottom-end"},on:{select:t.onSelect},scopedSlots:t._u([{key:"reference",fn:function(){return[i("div",{staticClass:"s_setting_t_item"},[i("span",{staticStyle:{color:"#ec1f2d"}},[t._v(t._s(t.statustext))]),i("van-icon",{attrs:{name:"arrow"}})],1)]},proxy:!0}],null,!1,1227428579),model:{value:t.showPopover,callback:function(e){t.showPopover=e},expression:"showPopover"}})],1):i("div",{staticClass:"dis_setting_i"},[i("div",{staticClass:"s_center_t_item"},[t._v("修改状态")]),i("div",{staticClass:"s_setting_t_item"},[i("span",{staticStyle:{color:"#ec1f2d"}},[t._v(t._s(t.statustext))]),i("van-icon",{attrs:{name:"arrow"}})],1)])]),i("div",{staticClass:"dis_setting_icon"},[i("div",{staticClass:"s_setting_t",staticStyle:{color:"#e27a62"}},[i("van-icon",{staticStyle:{"margin-right":"4px",color:"#e27a62"},attrs:{name:"info-o",size:"20"}})],1),i("div",{staticClass:"s_center_t",staticStyle:{color:"#e27a62"}},[t._v(" 只有运营和负责护士可修改状态，若当前为【等待确认】，请确认信息后修改为【待采样】，否则流程将无法继续。 ")])]),i("div",{staticClass:"search-list-role"},[i("div",{staticClass:"dis_setting_i"},[i("div",{staticClass:"s_center_t_item"},[t._v("负责护士")]),i("div",{staticClass:"s_setting_t_item",on:{click:t.clickHushi}},[i("span",{staticStyle:{color:"#e06596"}},[t._v(t._s(t.resultCheckbox?t.resultCheckbox:"请选择"))]),i("van-icon",{attrs:{name:"arrow"}})],1)])]),i("div",{staticClass:"search-list-role"},[i("div",{staticClass:"dis_setting_i_mar"},[i("div",{staticClass:"s_center_t_item_g",staticStyle:{width:"20%"}},[t._v("备注")]),i("van-field",{attrs:{rows:"1",autosize:"",label:"",type:"textarea",maxlength:"200",placeholder:"请写下与客户沟通情况与确认金额"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)]),i("div",{staticClass:"search-list-role"},[i("div",{staticClass:"dis_setting_i_mar"},[i("div",{staticClass:"s_center_t_item_g",staticStyle:{width:"20%"}},[t._v("企业名称")]),i("van-field",{attrs:{rows:"1",autosize:"",label:"",type:"textarea",maxlength:"200",placeholder:"便于后续沟通，选填"},model:{value:t.company_name,callback:function(e){t.company_name=e},expression:"company_name"}})],1)]),i("div",{staticClass:"search-list-role-from"},[i("div",{staticClass:"search-list-role-from-a"},[i("div",{staticClass:"search-list-role-from-b"},[t._v("上门地址")]),i("div",{staticClass:"search-list-role-from-c"},[i("div",{staticClass:"s_center_t_item",staticStyle:{width:"20%"}},[t._v("姓名")]),i("div",{staticClass:"select-item input-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.vip_person,expression:"vip_person"}],attrs:{type:"text",name:"vip_person",placeholder:"请输入联系人姓名",maxlength:"50"},domProps:{value:t.vip_person},on:{input:function(e){e.target.composing||(t.vip_person=e.target.value)}}})])]),i("div",{staticClass:"search-list-role-from-c"},[i("div",{staticClass:"s_center_t_item",staticStyle:{width:"20%"}},[t._v("手机号")]),i("div",{staticClass:"select-item input-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.vip_phone,expression:"vip_phone"}],attrs:{type:"number",name:"vip_phone",placeholder:"请输入联系人手机号",maxlength:"11"},domProps:{value:t.vip_phone},on:{input:function(e){e.target.composing||(t.vip_phone=e.target.value)}}}),t.vip_phone?i("div",{staticClass:"clear_1",on:{click:t.clearPhone}},[i("img",{staticClass:"icon_clear",attrs:{src:s("4007")}})]):t._e()])]),i("div",{staticClass:"search-list-role-from-c"},[i("div",{staticClass:"s_center_t_item",staticStyle:{width:"20%"}},[t._v("所在地区")]),i("div",{staticClass:"select-item div-item",on:{click:t.clickArea}},[i("div",{style:t.provincecityarea?"color: #333333;":"color: #666666;"},[t._v(t._s(t.provincecityarea?t.provincecityarea:"请选择所在地区"))]),i("div",{staticClass:"clear_1",staticStyle:{padding:"0px"}},[i("van-icon",{attrs:{name:"arrow"}})],1)])]),i("div",{staticClass:"search-list-role-from-g",staticStyle:{"border-bottom":"none"}},[i("div",{staticClass:"s_center_t_item_g"},[t._v("详细地址")]),i("van-field",{attrs:{rows:"1",autosize:"",label:"",type:"textarea",placeholder:"请填写详细地址"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)])]),i("div",{staticClass:"search-list-role-from"},[i("div",{staticClass:"search-list-role-from-a"},[i("div",{staticClass:"search-list-role-from-d"},[i("div",{staticClass:"s_center_t_item"},[t._v("期望上门时间")]),i("div",{staticClass:"s_setting_t_item",on:{click:t.clickDate}},[i("span",{style:t.dateText?"color: #333333;":"color: #666666;"},[t._v(t._s(t.dateText?t.dateText:"请选择期望上门时间"))]),i("van-icon",{attrs:{name:"arrow"}})],1)]),i("div",{staticClass:"search-list-role-from-d"},[i("div",{staticClass:"s_center_t_item"},[t._v("特殊时间要求")]),i("div",{staticClass:"s_setting_t_item",on:{click:t.clickDateTime}},[i("span",{style:t.timeValue?"color: #333333;":"color: #666666;"},[t._v(t._s(t.timeValue?t.timeValue:"请选择"))]),i("van-icon",{attrs:{name:"arrow"}})],1)])])]),i("div",{staticClass:"search-list-role"},[i("div",{staticClass:"dis_setting_i"},[i("div",{staticClass:"s_center_t_item"},[t._v("受检人数")]),i("div",{staticClass:"s_setting_t_item",staticStyle:{color:"#e06596"}},[i("van-stepper",{attrs:{integer:"","input-width":"40",theme:"round","button-size":"30",min:"1"},model:{value:t.inspection_person_num,callback:function(e){t.inspection_person_num=e},expression:"inspection_person_num"}})],1)])]),i("div",{staticClass:"empty_view"}),i("div",{staticClass:"view_bottom"},[i("div",{staticClass:"view_bottom_left",on:{click:t.clickSubmit}},[t._v("保存")])])]),i("van-dialog",{attrs:{showCancelButton:"",beforeClose:t.beforeCloseCheckbox,confirmButtonColor:"#E06596"},model:{value:t.isShowCheckbox,callback:function(e){t.isShowCheckbox=e},expression:"isShowCheckbox"}},[i("div",{staticClass:"dialog_item"},[i("van-checkbox-group",{attrs:{direction:"horizontal"},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.nurse_list,(function(e,s){return i("div",{key:s,staticClass:"checkbox_class"},[i("van-checkbox",{attrs:{name:e.id}},[t._v(t._s(e.person_name))])],1)})),0)],1)]),i("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.isShowArea,callback:function(e){t.isShowArea=e},expression:"isShowArea"}},[i("van-area",{attrs:{title:"选择地区","area-list":t.areaList},on:{confirm:t.areaConfirm,cancel:t.areaCancel}})],1),i("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.isShowDate,callback:function(e){t.isShowDate=e},expression:"isShowDate"}},[i("van-picker",{attrs:{"show-toolbar":"",title:"选择开始时间",columns:t.objectMultiArray},on:{cancel:t.dateCancel,confirm:t.dateConfirm}})],1),i("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.isShowDateTime,callback:function(e){t.isShowDateTime=e},expression:"isShowDateTime"}},[i("van-datetime-picker",{attrs:{type:"datehour",title:"选择年月日小时","min-date":t.minDate},on:{cancel:t.dateTimeCancel,confirm:t.dateTimeConfirm},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1),i("van-dialog",{attrs:{showCancelButton:"",beforeClose:t.beforeUpdate,confirmButtonColor:"#E06596","cancel-button-color":"#E06596","confirm-button-text":"仍然保存","cancel-button-text":"再看看"},model:{value:t.isShowUpdate,callback:function(e){t.isShowUpdate=e},expression:"isShowUpdate"}},[i("div",{staticClass:"dialog_item"},[i("div",{staticClass:"dialog_item_title"},[t._v("负责护士"),i("span",{staticStyle:{color:"#E06596"}},[t._v(t._s(t.checkinfo.person_name))]),t._v("在"),i("span",{staticStyle:{color:"#E06596"}},[t._v(t._s(t.checkinfo.expect_date)+t._s(t.checkinfo.expect_time_bucket))]),t._v("已有上门预约，仍然要保存吗？")])])])],1)},Ut=[],$t={name:"",components:(D={},Object(k["a"])(D,_t["a"].Component.name,_t["a"].Component),Object(k["a"])(D,dt["a"].name,dt["a"]),D),data:function(){return{roleId:"",roleName:"",userId:"",appointment_vip_num:"",inspection_person_num:20,remark:"",vip_person:"",vip_phone:"",province:"",city:"",area:"",address_id:"",appointment_vip_status:-1,expect_date:"",expect_time_bucket:"",nurse_name_list:"",nurse_name_ids:"",text:"",service_type:"",service_status:"",address:"",special_expect_date:"",special_expect_time_bucket:"",company_name:"",provincecityarea:"",statustext:"等待确认",statuvalue:"0",showPopover:!1,actions:[{text:"等待确认",value:"0"},{text:"待采样",value:"1"},{text:"已完成",value:"2"},{text:"客户缺席",value:"3"}],isShowCheckbox:!1,result:[],moreResult:[],resultCheckbox:"",nurse_list:[],isShowArea:!1,areaList:Nt["a"],objectMultiArray:[],isShowDate:!1,dateText:"",isShowDateTime:!1,minDate:new Date,currentDate:new Date,timeValue:"",isShowUpdate:!1,checkinfo:"",can_update:"0"}},created:function(){this.roleId=this.$route.query.id,this.roleName=this.$route.query.name,this.userId=this.$route.query.userId,this.appointment_vip_num=this.$route.query.avipnum,console.log(this.roleId),console.log(this.roleName),console.log(this.userId),console.log(this.appointment_vip_num)},mounted:function(){this.getVIPInfoByNum(),this.getNurseInfo(),this.getVIPServiceType()},methods:{getVIPServiceType:function(){var t=this;F({}).then((function(e){if(e.data.success){var s=e.data.service_type_info;if(t.objectMultiArray=s[1].objectMultiArray,t.objectMultiArray.length>0){for(var i=[],a=0;a<t.objectMultiArray.length;a++){var n={},c=t.objectMultiArray[a].date;if(-1!=c.indexOf("年")){var o=c.indexOf("date"),r=c.substr(o+1,c.length);n.text=r}else n.text=c;n.children=[];for(var l=t.objectMultiArray[a].time,u=0;u<l.length;u++){var p=l[u],_={};1==p.can_use?(_.disabled=!0,_.text=p.time_section+" (已满约)"):_.text=p.time_section,n.children.push(_)}i.push(n)}t.objectMultiArray=i}}else Object(J["a"])(e.data.msg)}))},getNurseInfo:function(){var t=this;$({}).then((function(e){e.data.success?t.nurse_list=e.data.result:Object(J["a"])(e.data.msg)}))},getVIPInfoByNum:function(){var t=this;B({id:t.userId,appointment_vip_num:t.appointment_vip_num}).then((function(e){if(e.data.success){t.can_update=e.data.can_update;var s=e.data.result;if(s&&s.length>0){var i=s[0];if(t.appointment_vip_num=i.appointment_vip_num,i.inspection_person_num&&(t.inspection_person_num=i.inspection_person_num),t.remark=i.remark,t.vip_person=i.vip_person,t.vip_phone=i.vip_phone,t.province=i.province,t.city=i.city,t.area=i.area,t.address_id=i.address_id,t.appointment_vip_status=i.appointment_vip_status,t.expect_date=i.expect_date,t.expect_time_bucket=i.expect_time_bucket,t.nurse_name_list=i.nurse_name_list,t.nurse_name_ids=i.nurse_name_ids,t.text=i.text,t.service_type=i.service_type,t.service_status=i.service_status,t.address=i.address,t.nurse_name_ids){var a=t.nurse_name_ids.split(",");if(a&&a.length>0)for(var n=0;n<a.length;n++){var c=parseInt(a[n]);t.result.push(c),t.moreResult.push(c)}}i.special_expect_date&&(t.special_expect_date=i.special_expect_date),i.special_expect_time_bucket&&(t.special_expect_time_bucket=i.special_expect_time_bucket),i.company_name&&(t.company_name=i.company_name),t.province&&t.city&&t.area&&(t.provincecityarea=t.province+t.city+t.area+""),t.special_expect_date&&t.special_expect_time_bucket?t.timeValue=t.special_expect_date+" "+t.special_expect_time_bucket:t.expect_date&&t.expect_time_bucket&&(t.dateText=t.expect_date+" "+t.expect_time_bucket),-1==t.appointment_vip_status||0==t.appointment_vip_status?(t.statustext="等待确认",t.statuvalue=0):1==t.appointment_vip_status?(t.statustext="待采样",t.statuvalue=1):2==t.appointment_vip_status?(t.statustext="已完成",t.statuvalue=2):3==t.appointment_vip_status&&(t.statustext="客户缺席",t.statuvalue=3),t.nurse_name_list&&(t.resultCheckbox=t.nurse_name_list)}}else Object(J["a"])(e.data.msg)}))},onClickLeft:function(){this.$router.back()},checkPhone:function(t){var e=/^1\d{10}$/;return 11==t.length&&!!e.test(t)},clickSubmit:function(){var t=this;if(0==t.statuvalue||""!=t.resultCheckbox)if(""!=t.remark)if(""!=t.vip_person)if(""!=t.vip_phone)if(t.checkPhone(t.vip_phone))if(""!=t.provincecityarea)if(""!=t.address)if(""!=t.dateText)if(0==t.statuvalue)t.setSaveData();else{var e={appointment_vip_num:t.appointment_vip_num,nurse_name_ids:t.nurse_name_ids,expect_date:t.special_expect_date?t.special_expect_date:t.expect_date,expect_time_bucket:t.special_expect_time_bucket?t.special_expect_time_bucket:t.expect_time_bucket};z(e).then((function(e){e.data.success?1==e.data.is_alert?t.setSaveData():(t.isShowUpdate=!0,e.data.result&&e.data.result.length>0&&(t.checkinfo=e.data.result[0])):Object(J["a"])(e.data.msg)}))}else Object(J["a"])("请选择期望上门时间");else Object(J["a"])("请填写详细地址");else Object(J["a"])("请选择所在地区");else Object(J["a"])("手机号有误");else Object(J["a"])("请输入联系人手机号");else Object(J["a"])("请输入联系人姓名");else Object(J["a"])("请写下与客户沟通情况与确认金额");else Object(J["a"])("非等待确认状态，请选择负责护士")},setSaveData:function(){var t=this,e={company_name:t.company_name,appointment_vip_num:t.appointment_vip_num,appointment_vip_status:t.statuvalue,nurse_name_list:t.resultCheckbox,nurse_name_ids:t.nurse_name_ids,remark:t.remark,address_id:t.address_id,vip_person:t.vip_person,vip_phone:t.vip_phone,province:t.province,city:t.city,area:t.area,address:t.address,expect_date:t.expect_date,expect_time_bucket:t.expect_time_bucket,special_expect_date:t.special_expect_date,special_expect_time_bucket:t.special_expect_time_bucket,inspection_person_num:t.inspection_person_num};console.log("--params--\x3e:",e),U(e).then((function(e){e.data.success?(Object(J["a"])(e.data.msg),t.onClickLeft()):Object(J["a"])(e.data.msg)}))},beforeUpdate:function(t,e){var s=this,i=this,a={company_name:i.company_name,appointment_vip_num:i.appointment_vip_num,appointment_vip_status:i.statuvalue,nurse_name_list:i.resultCheckbox,nurse_name_ids:i.nurse_name_ids,remark:i.remark,address_id:i.address_id,vip_person:i.vip_person,vip_phone:i.vip_phone,province:i.province,city:i.city,area:i.area,address:i.address,expect_date:i.expect_date,expect_time_bucket:i.expect_time_bucket,special_expect_date:i.special_expect_date,special_expect_time_bucket:i.special_expect_time_bucket,inspection_person_num:i.inspection_person_num};console.log("--params--\x3e:",a),"confirm"===t?U(a).then((function(t){t.data.success?(s.isShowUpdate=!1,Object(J["a"])(t.data.msg),e(),i.onClickLeft()):(Object(J["a"])(t.data.msg),e(!1))})):"cancel"===t&&(this.isShowUpdate=!1,e())},clearPhone:function(){this.vip_phone=""},onSelect:function(t){this.statustext=t.text,this.statuvalue=t.value},clickHushi:function(){this.isShowCheckbox=!0,this.result=this.moreResult},beforeCloseCheckbox:function(t,e){var s=this;if("confirm"===t)if(s.result.length>0){this.isShowCheckbox=!1,console.log(s.result);for(var i="",a=[],n=0;n<s.nurse_list.length;n++)for(var c=s.nurse_list[n],o=0;o<s.result.length;o++)c.id==s.result[o]&&a.push(c.person_name);s.moreResult=s.result,i=a.join(","),s.nurse_name_ids=s.result.join(","),s.result=[],s.resultCheckbox=i,e()}else Object(J["a"])("请选择负责护士"),e(!1);else"cancel"===t&&(this.isShowCheckbox=!1,this.result=[],e())},clickArea:function(){this.isShowArea=!0},areaConfirm:function(t){if(console.log(t),t.length>0){for(var e=[],s=0;s<t.length;s++)e.push(t[s].name);var i="";i=e.join(","),this.province=e[0],this.city=e[1],this.area=e[2],console.log(e[0],e[1],e[2]),this.provincecityarea=i}this.isShowArea=!1},areaCancel:function(){this.isShowArea=!1},clickDate:function(){this.isShowDate=!0},dateCancel:function(){this.isShowDate=!1},dateConfirm:function(t){if(console.log(t),t.length>0){var e=t[1];if(-1!=e.indexOf("已满约")){Object(J["a"])("该时间段已约满,请选择其他上门时间~");var s="";this.dateText=s,this.expect_date="",this.expect_time_bucket="",this.isShowDate=!1}else{var i="";i=t.join(" "),this.dateText=i,this.expect_date=t[0],this.expect_time_bucket=t[1],this.isShowDate=!1,this.timeValue&&this.special_expect_date&&this.special_expect_time_bucket&&(this.dateText="",this.expect_date="",this.expect_time_bucket="")}}},clickDateTime:function(){this.isShowDateTime=!0},dateTimeCancel:function(){this.isShowDateTime=!1},dateTimeConfirm:function(){this.timeValue=this.timeFormat(this.currentDate),console.log(this.timeValue),this.dateText="",this.expect_date="",this.expect_time_bucket="",this.isShowDateTime=!1},timeFormat:function(t){t.getFullYear();var e=t.getMonth()+1;e<10&&(e="0"+e);var s=t.getDate();s<10&&(s="0"+s);var i=t.getHours();return i<10&&(i="0"+i),this.special_expect_date=e+"月"+s+"日",this.special_expect_time_bucket=i+":00",e+"月"+s+"日 "+i+":00"}}},qt=$t,Ft=(s("02d5"),Object(r["a"])(qt,zt,Ut,!1,null,"0b400f90",null)),Wt=Ft.exports,Jt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"child-section"},[i("van-nav-bar",{attrs:{title:"填写预约信息"}}),1==t.isShowResult?i("div",{staticClass:"main"},[t._m(0),i("div",{staticClass:"search-list-role-from"},[i("div",{staticClass:"search-list-role-from-a"},[i("div",{staticClass:"search-list-role-from-b"},[t._v("上门地址")]),i("div",{staticClass:"search-list-role-from-c"},[i("div",{staticClass:"s_center_t_item",staticStyle:{width:"20%"}},[t._v("姓名")]),i("div",{staticClass:"select-item input-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.vip_person,expression:"vip_person"}],attrs:{type:"text",name:"vip_person",placeholder:"请输入联系人姓名",maxlength:"50"},domProps:{value:t.vip_person},on:{input:function(e){e.target.composing||(t.vip_person=e.target.value)}}})])]),i("div",{staticClass:"search-list-role-from-c"},[i("div",{staticClass:"s_center_t_item",staticStyle:{width:"20%"}},[t._v("手机号")]),i("div",{staticClass:"select-item input-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.vip_phone,expression:"vip_phone"}],attrs:{type:"number",name:"vip_phone",placeholder:"请输入联系人手机号",maxlength:"11"},domProps:{value:t.vip_phone},on:{input:function(e){e.target.composing||(t.vip_phone=e.target.value)}}}),t.vip_phone?i("div",{staticClass:"clear_1",on:{click:t.clearPhone}},[i("img",{staticClass:"icon_clear",attrs:{src:s("4007")}})]):t._e()])]),i("div",{staticClass:"search-list-role-from-c"},[i("div",{staticClass:"s_center_t_item",staticStyle:{width:"20%"}},[t._v("所在地区")]),i("div",{staticClass:"select-item div-item",on:{click:t.clickArea}},[i("div",{style:t.provincecityarea?"color: #333333;":"color: #666666;"},[t._v(t._s(t.provincecityarea?t.provincecityarea:"请选择所在地区"))]),i("div",{staticClass:"clear_1",staticStyle:{padding:"0px"}},[i("van-icon",{attrs:{name:"arrow"}})],1)])]),i("div",{staticClass:"search-list-role-from-g",staticStyle:{"border-bottom":"none"}},[i("div",{staticClass:"s_center_t_item_g"},[t._v("详细地址")]),i("van-field",{attrs:{rows:"1",autosize:"",label:"",type:"textarea",placeholder:"请填写详细地址"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)])]),i("div",{staticClass:"dis_setting_icon"},[i("div",{staticClass:"s_setting_t",staticStyle:{color:"#e27a62"}},[i("van-icon",{staticStyle:{"margin-right":"4px",color:"#e27a62"},attrs:{name:"info-o",size:"20"}})],1),i("div",{staticClass:"s_center_t",staticStyle:{color:"#e27a62"},on:{click:function(e){return e.stopPropagation(),t.clickPDF.apply(null,arguments)}}},[t._v(" 温馨提示：上门区域限北京四环内及部分四环外，"),i("span",{staticStyle:{"text-decoration-line":"underline"}},[t._v("点击查看")])])]),i("div",{staticClass:"search-list-role-from"},[i("div",{staticClass:"search-list-role-from-a"},[i("div",{staticClass:"search-list-role-from-d"},[i("div",{staticClass:"s_center_t_item"},[t._v("期望上门时间")]),i("div",{staticClass:"s_setting_t_item",on:{click:t.clickDate}},[i("span",{style:t.dateText?"color: #333333;":"color: #666666;"},[t._v(t._s(t.dateText?t.dateText:"请选择期望上门时间"))]),i("van-icon",{attrs:{name:"arrow"}})],1)])])]),i("div",{staticClass:"search-list-role"},[i("div",{staticClass:"dis_setting_i"},[i("div",{staticClass:"s_center_t_item"},[t._v("受检人数")]),i("div",{staticClass:"s_setting_t_item",staticStyle:{color:"#e06596"}},[i("van-stepper",{attrs:{integer:"","input-width":"40",theme:"round","button-size":"30",max:"10"},model:{value:t.inspection_person_num,callback:function(e){t.inspection_person_num=e},expression:"inspection_person_num"}})],1)])]),i("div",{staticClass:"dis_setting_icon"},[i("div",{staticClass:"s_setting_t",staticStyle:{color:"#e27a62"}},[i("van-checkbox",{attrs:{"checked-color":"#ee0a24"},model:{value:t.checkedStatus,callback:function(e){t.checkedStatus=e},expression:"checkedStatus"}})],1),i("div",{staticClass:"s_center_t",staticStyle:{color:"#e27a62"},on:{click:function(e){return e.stopPropagation(),t.clickYYXZPDF.apply(null,arguments)}}},[t._v(" 已阅读并同意"),i("span",{staticStyle:{"text-decoration-line":"underline"}},[t._v("预约须知")])])]),i("div",{staticClass:"empty_view"}),i("div",{staticClass:"view_bottom"},[i("div",{staticClass:"view_bottom_left",on:{click:t.clickSubmit}},[t._v("提交预约")])])]):t._e(),2==t.isShowResult?i("div",{staticClass:"main"},[t._m(1),i("div",{staticClass:"search-list-role"},t._l(t.resultInfo,(function(e,s){return i("div",{key:s},[i("div",{staticClass:"search-result-view"},[i("div",{staticClass:"dis_setting",staticStyle:{padding:"0px"}},[i("div",{staticClass:"s_center_t_item"},[t._v(t._s("预约信息"))])]),e.vip_person?i("div",{staticClass:"search-result-view-item"},[i("div",{staticClass:"search-result-view-left"},[t._v("联系人")]),i("div",{staticClass:"search-result-view-right"},[t._v(t._s(e.vip_person))])]):t._e(),e.vip_phone?i("div",{staticClass:"search-result-view-item"},[i("div",{staticClass:"search-result-view-left"},[t._v("手机号")]),i("div",{staticClass:"search-result-view-right"},[t._v(t._s(e.vip_phone))])]):t._e(),e.address?i("div",{staticClass:"search-result-view-item",staticStyle:{positon:"relative"}},[i("div",{staticClass:"search-result-view-left"},[t._v("上门地址")]),i("div",{staticClass:"search-result-view-right",staticStyle:{width:"70%"}},[t._v(t._s(e.province)+t._s(e.city)+t._s(e.area)+t._s(e.address))])]):t._e(),e.service_title?i("div",{staticClass:"search-result-view-item"},[i("div",{staticClass:"search-result-view-left"},[t._v("检测类型")]),i("div",{staticClass:"search-result-view-right"},[t._v(t._s(e.service_title))])]):t._e(),e.expect_date?i("div",{staticClass:"search-result-view-item"},[i("div",{staticClass:"search-result-view-left"},[t._v("预约时间")]),i("div",{staticClass:"search-result-view-right"},[t._v(t._s(e.expect_date)+" "+t._s(e.expect_time_bucket))])]):t._e(),e.inspection_person_num?i("div",{staticClass:"search-result-view-item"},[i("div",{staticClass:"search-result-view-left"},[t._v("受检人数")]),i("div",{staticClass:"search-result-view-right"},[t._v(t._s(e.inspection_person_num)+"人")])]):t._e()])])})),0)]):t._e(),i("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.isShowArea,callback:function(e){t.isShowArea=e},expression:"isShowArea"}},[i("van-area",{attrs:{title:"选择地区","area-list":t.areaList},on:{confirm:t.areaConfirm,cancel:t.areaCancel}})],1),i("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.isShowDate,callback:function(e){t.isShowDate=e},expression:"isShowDate"}},[i("van-picker",{attrs:{"show-toolbar":"",title:"选择开始时间",columns:t.objectMultiArray},on:{cancel:t.dateCancel,confirm:t.dateConfirm}})],1),i("van-dialog",{attrs:{showCancelButton:"",beforeClose:t.beforeUpdate,confirmButtonColor:"#E06596","cancel-button-color":"#E06596","confirm-button-text":"同意并继续","cancel-button-text":"返回上一步"},model:{value:t.isShowUpdate,callback:function(e){t.isShowUpdate=e},expression:"isShowUpdate"}},[i("div",{staticClass:"dialog_item"},[i("div",{staticClass:"dialog_item_text"},[t._v("免责说明")]),i("div",{staticClass:"dialog_item_title"},[i("img",{staticClass:"dialog_item_img",attrs:{src:t.disclaimer_img}})])])]),i("van-dialog",{attrs:{beforeClose:t.beforeAraeImg,"confirm-button-text":"好的,我知道了",theme:"round"},model:{value:t.isShowAreaImg,callback:function(e){t.isShowAreaImg=e},expression:"isShowAreaImg"}},[i("div",{staticClass:"dialog_item"},[i("div",{staticClass:"dialog_item_title"},[i("img",{staticClass:"dialog_item_img",attrs:{src:s("4f17")}})])])]),i("van-dialog",{attrs:{beforeClose:t.beforeShouldKnow,"confirm-button-text":"好的,我知道了",theme:"round"},model:{value:t.isShowShouldKnow,callback:function(e){t.isShowShouldKnow=e},expression:"isShowShouldKnow"}},[i("div",{staticClass:"dialog_item"},[i("div",{staticClass:"dialog_item_text"},[t._v("预约须知")]),i("div",{staticClass:"dialog_item_title"},[i("img",{staticClass:"dialog_item_img",attrs:{src:s("b2c9")}})])])])],1)},Gt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dis_setting_icon_d"},[s("div",{staticClass:"s_center_t_d"},[t._v("感谢您使用VIP上门检测服务")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dis_setting_icon_dd",staticStyle:{color:"#E06596"}},[s("div",{staticClass:"s_center_t_d"},[t._v("提交成功")])])}],Ht={name:"",components:(P={},Object(k["a"])(P,_t["a"].Component.name,_t["a"].Component),Object(k["a"])(P,dt["a"].name,dt["a"]),P),data:function(){return{isShowShouldKnow:!1,isShowAreaImg:!1,isShowResult:1,resultInfo:[],appointment_vip_num:"",inspection_person_num:1,remark:"",vip_person:"",vip_phone:"",province:"",city:"",area:"",expect_date:"",expect_time_bucket:"",text:"",service_type:"",service_status:"",address:"",provincecityarea:"",statuvalue:"0",showPopover:!1,isShowArea:!1,areaList:Nt["a"],objectMultiArray:[],isShowDate:!1,dateText:"",isShowUpdate:!1,checkedStatus:!1,area_img:"",disclaimer_img:"",should_know:""}},created:function(){this.appointment_vip_num=this.$route.query.avipnum},mounted:function(){this.getVIPInfoByNum(),this.getVIPServiceType()},methods:{getVIPServiceType:function(){var t=this;F({}).then((function(e){if(e.data.success){var s=e.data.service_type_info;if(t.objectMultiArray=s[0].objectMultiArray,t.disclaimer_img=s[0].disclaimer_img,t.objectMultiArray.length>0){for(var i=[],a=0;a<t.objectMultiArray.length;a++){var n={},c=t.objectMultiArray[a].date;if(-1!=c.indexOf("年")){var o=c.indexOf("date"),r=c.substr(o+1,c.length);n.text=r}else n.text=c;n.children=[];for(var l=t.objectMultiArray[a].time,u=0;u<l.length;u++){var p=l[u],_={};1==p.can_use?(_.disabled=!0,_.text=p.time_section+" (已满约)"):_.text=p.time_section,n.children.push(_)}i.push(n)}t.objectMultiArray=i}}else Object(J["a"])(e.data.msg)}))},getVIPInfoByNum:function(){var t=this;B({appointment_vip_num:t.appointment_vip_num}).then((function(e){if(e.data.success){var s=e.data.result;if(s&&s.length>0){var i=s[0];i.vip_person&&i.vip_phone&&i.service_title&&i.province&&i.city&&i.address&&i.expect_date&&i.inspection_person_num&&(t.isShowResult=2,t.resultInfo.push(s[0]))}}else Object(J["a"])(e.data.msg)}))},onClickLeft:function(){this.$router.back()},beforeUpdate:function(t,e){var s=this;if("confirm"===t){var i={appointment_vip_num:s.appointment_vip_num,vip_person:s.vip_person,vip_phone:s.vip_phone,province:s.province,city:s.city,area:s.area,address:s.address,expect_date:s.expect_date,expect_time_bucket:s.expect_time_bucket,inspection_person_num:s.inspection_person_num};console.log("--params--\x3e:",i),q(i).then((function(t){t.data.success?(s.isShowUpdate=!1,s.isShowResult=2,s.getVIPInfoByNum(),e()):(s.isShowUpdate=!1,Object(J["a"])(t.data.msg),e(!1))}))}else"cancel"===t&&(this.isShowUpdate=!1,e())},checkPhone:function(t){var e=/^1\d{10}$/;return 11==t.length&&!!e.test(t)},clickSubmit:function(){var t=this;""!=t.vip_person?""!=t.vip_phone?t.checkPhone(t.vip_phone)?""!=t.provincecityarea?""!=t.address?""!=t.dateText?0!=t.checkedStatus?t.isShowUpdate=!0:Object(J["a"])("请阅读并勾选预约须知"):Object(J["a"])("请选择期望上门时间"):Object(J["a"])("请填写详细地址"):Object(J["a"])("请选择所在地区"):Object(J["a"])("手机号有误"):Object(J["a"])("请输入联系人手机号"):Object(J["a"])("请输入联系人姓名")},clearPhone:function(){this.vip_phone=""},clickArea:function(){this.isShowArea=!0},areaConfirm:function(t){if(console.log(t),t.length>0){for(var e=[],s=0;s<t.length;s++)e.push(t[s].name);var i="";i=e.join(","),this.province=e[0],this.city=e[1],this.area=e[2],console.log(e[0],e[1],e[2]),this.provincecityarea=i}this.isShowArea=!1},areaCancel:function(){this.isShowArea=!1},clickDate:function(){this.isShowDate=!0},dateCancel:function(){this.isShowDate=!1},dateConfirm:function(t){if(console.log(t),t.length>0){var e=t[1];if(-1!=e.indexOf("已满约")){Object(J["a"])("该时间段已约满,请选择其他上门时间~");var s="";this.dateText=s,this.expect_date="",this.expect_time_bucket="",this.isShowDate=!1}else{var i="";i=t.join(" "),this.dateText=i,this.expect_date=t[0],this.expect_time_bucket=t[1],this.isShowDate=!1}}},clickPDF:function(){this.isShowAreaImg=!0},beforeAraeImg:function(t,e){this.isShowAreaImg=!1,e()},clickYYXZPDF:function(){this.isShowShouldKnow=!0},beforeShouldKnow:function(t,e){this.isShowShouldKnow=!1,e()}}},Yt=Ht,Qt=(s("cb10"),Object(r["a"])(Yt,Jt,Gt,!1,null,"06be4f1b",null)),Zt=Qt.exports,Kt=[{path:"/login",component:Q},{path:"/vipList",component:gt},{path:"/vipSetting",component:jt},{path:"/instrumentPDF",component:Tt},{path:"/vipInfo",component:Bt},{path:"/vipInfoGroup",component:Wt},{path:"/vipInfoCustom",component:Zt},{path:"/",component:Q},{path:"*",component:st}],Xt=Kt,te=s("2f62"),ee=s("0e44"),se={token:null},ie={setToken:function(t,e){t.token=e},clearToken:function(t){t.token=null}},ae={},ne={},ce={state:se,mutations:ie,actions:ae,getters:ne};i["default"].use(te["a"]);var oe={},re={},le={},ue={},pe={login:ce},_e=new te["a"].Store({state:oe,mutations:re,actions:le,getters:ue,modules:pe,plugins:[Object(ee["a"])({storage:window.sessionStorage})]}),de=_e,me=h["a"].prototype.push;h["a"].prototype.push=function(t){return me.call(this,t).catch((function(t){return t}))},i["default"].use(h["a"]);var ve=new h["a"]({routes:Xt});ve.beforeEach((function(t,e,s){console.log(e),s()}));var he=ve,fe=(s("499a"),s("c1df")),be=s.n(fe),ge=s("2ef0"),Ce=s.n(ge),xe=(s("157a"),s("a0f0"),s("9d60"),s("be35"),s("44fd"),s("3a34")),ke=s.n(xe),we=s("58e6"),ye=s("5c96"),je=s.n(ye),Se=(s("0fae"),s("dc02"));i["default"].use(Se["a"]),i["default"].use(je.a),i["default"].prototype.$vconsole=ke.a,i["default"].config.productionTip=!1,i["default"].prototype.$moment=be.a,i["default"].prototype.$lodash=Ce.a,i["default"].use(p["a"]),_["a"].use("zh-CN",v["a"]),i["default"].use(m.a),i["default"].use(we["a"]),new i["default"]({router:he,store:de,render:function(t){return t(u)}}).$mount("#app")},6:function(t,e){},6052:function(t,e,s){t.exports=s.p+"img/icon_search.29cc7167.png"},"697c":function(t,e,s){},"6aae":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAoCAYAAACfKfiZAAAAAXNSR0IArs4c6QAABLNJREFUWEe1mF1oHFUUx/9ndjdfGvEjxjZtdrbgFxoL4ldbBIOIaPJQ/CAvQqGBzO6sVatRH4wtJQbxobVIyMx+qEWkL0WphRIfRMxDCzH6olbFRmVnt11q02hb22Sbzd4jk2TDJtmZO7uJ+3rPOf/fPefec88sweOP9x2pyWT/aRcktkPgHoBbiNBiuzMjC1AWCn5RWDnW2nLTCO3rmvESmmRG56OH1k3N5vYC/AIYN8js59YJlwE63OCv6282dp5z83EE4JeGa9Mzqbcg0MvAdZ6ElxkRcBUKDgRrQu/SYMe1cjHKAsztOp87CvCWaoRX+tBoQ6DumXLZWAGQ0eL3CRbDDN64NuLzUQh0RiGlozUR/qk07hIAe+fT+dx3ay1eFLQh6gN1D5VmYhHArrmVs0bWLu1O+aNRtU5tL56JRYC0ZvYL5j1rmXanWArRO8GEvne+NABSWnw9cWG8gtN+kYi+ZiA1L8KbwHgcwI1eNmDfjvpA/e12KeYArB7DZCDiwXmCCG8H4TtEiXC+1J61eCAN0Q1ggJmbZLEIiKnJqE52h7OyFyZkTYaITvn9tR0bjO6MW/CsFg/muTDMwL2uEITLakvTrZQJx54qCPGlhHgiEKh7QCZejJF98UM1n89/L8uET1GeppRmGmDWXduljzQ1pidlaS1dT4djESGE6Z4FMinVY34DcLuL4UWVfM3Lay6D8VZaGqFUj/EbgDsdby3R52pCf14mWG7d6jG/YPB2F9/TZGnGv8y43tGI6EAoob9eFYBmfsDMLztvDlfI0swJyWF5P5SM9lYDkNbMQcG8SwJgnGTGNmcBOhpK6s9WA2BpxnFmdLqUd5xSmvExGDudS7BwXz1OOMU4mVeP1IurkxeYucERAHTYvgXPAfyZpGnsCiWiQ5VkIa2ZvYJ5v5uPoijdc50wnZ0863YOCPQ3kfJwMBH+wwvEWd24K1/AmFt3JcJ0I3zr598CLXaQWex2bUZE4wpRZ2s8Mi5pxXcvtOJNknifqgl9xxyATTw7Sz8z2CfpXJfANNAQuDnWbHRdKbWdePOjxqlL16IsqA/gRldxEJMPm4Mx/dTiPFDBi2i/4jkiPkEMyxZiohCDHwWj1kuJqKS5LQKci5jNuQJ+l9F7EXC3oRmfQm3FUi6ZCdOa2SeYB1Yv4hxBUbA/GI++UbRYArBwd39g5jv+JwirIdDUVnp+VozlZ3RjS2GWTkgPZBWEpChPqvHIV6WuZT9MUpo5AOa+KjRcGiol1aSuLTcoC2DPdxbEt2C+f40gfq0h34MtifCUJwDbKB0x21jwGDPqVwdBOZ/f/0ir2fNjuTiuX8dWOLaDhfhkNQAkGeekn+epsDkEwdFqIIiQUBPRsHtXlESen+0mR8C8tTIIGlU33PKY7I8KaQZs0b9eSd42PT07BuagFwgi/Fmr0NZ1Mf28zN4TgB0koyc3i0Lenp6c50f7lSBM+gL+bRuHtNMycXvdM4BtnNLincTimHOTohz58IQa0096Ea8YwHawNENjRnzlfSaGQl1qPOI+XS1zrCgDRd+UZu4Bc39pLIXotWBCP+h152Ufo0qcLc3YDcb8q6Yo76nxyGAl/kXb/wDKhuxqB/sWDwAAAABJRU5ErkJggg=="},"71f6":function(t,e,s){"use strict";s("1e47")},"7feb":function(t,e,s){},8974:function(t,e,s){},9485:function(t,e,s){t.exports=s.p+"img/nodata.d8c2faf9.png"},9586:function(t,e,s){"use strict";s("a544")},"98b7":function(t,e,s){},"9c1d":function(t,e,s){t.exports=s.p+"img/icon_logo.798a0bfe.png"},"9d60":function(t,e,s){},"9ee8":function(t,e,s){"use strict";s("697c")},a544:function(t,e,s){},b019:function(t,e,s){},b1ca:function(t,e,s){},b2c9:function(t,e,s){t.exports=s.p+"img/should_know.e6d435a5.png"},be35:function(t,e,s){},c821:function(t,e,s){},cb10:function(t,e,s){"use strict";s("b1ca")},cc13:function(t,e,s){"use strict";s("7feb")},db19:function(t,e,s){"use strict";s("8974")}});
//# sourceMappingURL=app.d478746f.js.map